<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News API Dokümantasyonu</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.6;
        }
        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #2c3e50;
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }
        h1 {
            margin: 0;
            padding: 0;
        }
        .endpoint {
            background-color: #f9f9f9;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
        }
        .method {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
        }
        .get {
            background-color: #3498db;
            color: white;
        }
        .post {
            background-color: #2ecc71;
            color: white;
        }
        .delete {
            background-color: #e74c3c;
            color: white;
        }
        .code {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 3px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .section {
            margin-bottom: 40px;
        }
        .param-name {
            font-weight: bold;
        }
        .param-type {
            color: #888;
            font-style: italic;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Haber (News) Modülü API Dokümantasyonu</h1>
            <p>Versiyon: 1.0</p>
        </div>
    </header>

    <div class="container">
        <section class="section">
            <h2>Genel Bilgiler</h2>
            <p>Bu API, haber sistemine erişim sağlar. Tüm API istekleri <code>/api</code> altında gerçekleştirilir.</p>
            
            <h3>Kimlik Doğrulama</h3>
            <p>API'ye erişmek için iki yöntem kullanılabilir:</p>
            <ol>
                <li>
                    <strong>API Anahtarı (API Key):</strong> Her istek için <code>X-API-KEY</code> başlık değeri gönderilmelidir.
                    <div class="code">
                        X-API-KEY: your_api_key_here
                    </div>
                </li>
                <li>
                    <strong>Bearer Token:</strong> Bearer token kimlik doğrulaması için <code>Authorization</code> başlık değeri gönderilmelidir.
                    <div class="code">
                        Authorization: Bearer your_token_here
                    </div>
                </li>
            </ol>
            
            <h3>Yanıt Formatı</h3>
            <p>Tüm API yanıtları JSON formatında döner ve şu yapıdadır:</p>
            <div class="code">
                {
                    "data": [...], // Asıl veri
                    "pagination": { // Sayfalandırma bilgisi (varsa)
                        "total": 100,
                        "count": 10,
                        "per_page": 10,
                        "current_page": 1,
                        "total_pages": 10,
                        "links": {
                            "first": "http://example.com/api/endpoint?page=1",
                            "last": "http://example.com/api/endpoint?page=10",
                            "prev": null,
                            "next": "http://example.com/api/endpoint?page=2"
                        }
                    }
                }
            </div>
            
            <h3>Hata Yanıtları</h3>
            <p>Hata durumunda aşağıdaki formatta yanıt döner:</p>
            <div class="code">
                {
                    "message": "Hata mesajı",
                    "status": "error"
                }
            </div>
            
            <h3>HTTP Durum Kodları</h3>
            <table>
                <tr>
                    <th>Kod</th>
                    <th>Açıklama</th>
                </tr>
                <tr>
                    <td>200</td>
                    <td>Başarılı</td>
                </tr>
                <tr>
                    <td>400</td>
                    <td>Geçersiz istek</td>
                </tr>
                <tr>
                    <td>401</td>
                    <td>Kimlik doğrulama hatası</td>
                </tr>
                <tr>
                    <td>404</td>
                    <td>Kaynak bulunamadı</td>
                </tr>
                <tr>
                    <td>429</td>
                    <td>Çok fazla istek</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td>Sunucu hatası</td>
                </tr>
            </table>
        </section>

        <section class="section">
            <h2>Token İşlemleri</h2>
            
            <div class="endpoint">
                <span class="method post">POST</span>
                <code>/api/token</code>
                <p>Kullanıcı bilgileri ile yeni bir token oluşturur.</p>
                
                <h4>İstek Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Zorunlu</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>string</td>
                        <td>Evet</td>
                        <td>Kullanıcı e-posta adresi</td>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td>string</td>
                        <td>Evet</td>
                        <td>Kullanıcı şifresi</td>
                    </tr>
                    <tr>
                        <td>device_name</td>
                        <td>string</td>
                        <td>Evet</td>
                        <td>Cihaz adı</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "token": "1|LPAQz6Tdcy4y3CWVtMNjJ2VZKBnOm6JvbsQOzFxx",
                        "token_type": "Bearer",
                        "user": {
                            "id": 1,
                            "name": "John Doe",
                            "email": "john@example.com"
                        },
                        "status": "success"
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/tokens</code>
                <p>Kullanıcıya ait tüm tokenları listeler.</p>
                
                <h4>Gereklilikler</h4>
                <p>Bearer Token kimlik doğrulaması gereklidir.</p>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "tokens": [
                            {
                                "id": 1,
                                "name": "iPhone 12",
                                "created_at": "2023-06-15 10:30:45"
                            }
                        ],
                        "status": "success"
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method delete">DELETE</span>
                <code>/api/tokens</code>
                <p>Kullanıcıya ait tüm tokenları siler.</p>
                
                <h4>Gereklilikler</h4>
                <p>Bearer Token kimlik doğrulaması gereklidir.</p>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "message": "Tüm tokenlar silindi",
                        "status": "success"
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method delete">DELETE</span>
                <code>/api/tokens/{id}</code>
                <p>Belirtilen tokeni siler.</p>
                
                <h4>Gereklilikler</h4>
                <p>Bearer Token kimlik doğrulaması gereklidir.</p>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "message": "Token silindi",
                        "status": "success"
                    }
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Haber API Endpointleri</h2>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news</code>
                <p>Tüm haberleri listeler.</p>
                
                <h4>Sorgu Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Varsayılan</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>page</td>
                        <td>integer</td>
                        <td>1</td>
                        <td>Sayfa numarası</td>
                    </tr>
                    <tr>
                        <td>per_page</td>
                        <td>integer</td>
                        <td>10</td>
                        <td>Sayfa başına haber sayısı</td>
                    </tr>
                    <tr>
                        <td>sort_by</td>
                        <td>string</td>
                        <td>published_at</td>
                        <td>Sıralama alanı</td>
                    </tr>
                    <tr>
                        <td>sort_direction</td>
                        <td>string</td>
                        <td>desc</td>
                        <td>Sıralama yönü (asc/desc)</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": [
                            {
                                "id": 1,
                                "title": "Örnek Haber Başlığı",
                                "slug": "ornek-haber-basligi",
                                "summary": "Örnek haber özeti...",
                                "content": "Haber içeriği...",
                                "image": "https://example.com/uploads/media/1",
                                "image_alt": "Haber görsel açıklaması",
                                "image_title": "Haber görsel başlığı",
                                "is_headline": true,
                                "headline_order": 1,
                                "is_featured": true,
                                "view_count": 150,
                                "status": "published",
                                "published_at": "2023-06-10 09:30:00",
                                "category": {
                                    "id": 2,
                                    "name": "Ekonomi",
                                    "slug": "ekonomi"
                                },
                                "tags": [
                                    {
                                        "id": 5,
                                        "name": "Finans",
                                        "slug": "finans"
                                    }
                                ],
                                "created_at": "2023-06-10 09:00:00",
                                "updated_at": "2023-06-10 09:00:00"
                            }
                        ],
                        "pagination": {
                            "total": 100,
                            "count": 10,
                            "per_page": 10,
                            "current_page": 1,
                            "total_pages": 10,
                            "links": {
                                "first": "http://example.com/api/news?page=1",
                                "last": "http://example.com/api/news?page=10",
                                "prev": null,
                                "next": "http://example.com/api/news?page=2"
                            }
                        }
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news/{slug}</code>
                <p>Belirtilen haberin detaylarını gösterir.</p>
                
                <h4>URL Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>slug</td>
                        <td>string</td>
                        <td>Haberin slug değeri</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": {
                            "id": 1,
                            "title": "Örnek Haber Başlığı",
                            "slug": "ornek-haber-basligi",
                            "summary": "Örnek haber özeti...",
                            "content": "Haber içeriği...",
                            "image": "https://example.com/uploads/media/1",
                            "image_alt": "Haber görsel açıklaması",
                            "image_title": "Haber görsel başlığı",
                            "is_headline": true,
                            "headline_order": 1,
                            "is_featured": true,
                            "view_count": 150,
                            "status": "published",
                            "published_at": "2023-06-10 09:30:00",
                            "category": {
                                "id": 2,
                                "name": "Ekonomi",
                                "slug": "ekonomi"
                            },
                            "tags": [
                                {
                                    "id": 5,
                                    "name": "Finans",
                                    "slug": "finans"
                                }
                            ],
                            "gallery": [
                                {
                                    "id": 10,
                                    "url": "https://example.com/uploads/media/10",
                                    "alt": "Galeri görsel açıklaması",
                                    "title": "Galeri görsel başlığı"
                                }
                            ],
                            "meta": {
                                "title": "Meta başlık",
                                "description": "Meta açıklama",
                                "keywords": "anahtar,kelime"
                            },
                            "created_at": "2023-06-10 09:00:00",
                            "updated_at": "2023-06-10 09:00:00"
                        }
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news/featured</code>
                <p>Öne çıkan haberleri listeler.</p>
                
                <h4>Sorgu Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Varsayılan</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>limit</td>
                        <td>integer</td>
                        <td>6</td>
                        <td>Listelenecek maksimum haber sayısı</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": [
                            {
                                "id": 1,
                                "title": "Örnek Öne Çıkan Haber",
                                "slug": "ornek-one-cikan-haber",
                                "summary": "Örnek haber özeti...",
                                "image": "https://example.com/uploads/media/1",
                                "is_featured": true,
                                "published_at": "2023-06-10 09:30:00",
                                "category": {
                                    "id": 2,
                                    "name": "Ekonomi",
                                    "slug": "ekonomi"
                                }
                            }
                        ]
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news/categories</code>
                <p>Tüm haber kategorilerini listeler.</p>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": [
                            {
                                "id": 1,
                                "name": "Gündem",
                                "slug": "gundem",
                                "description": "Gündem haberleri",
                                "icon": "newspaper",
                                "image": "https://example.com/uploads/categories/1.jpg",
                                "parent_id": null,
                                "order": 1,
                                "is_active": true,
                                "news_count": 25,
                                "children": [
                                    {
                                        "id": 3,
                                        "name": "Politika",
                                        "slug": "politika",
                                        "parent_id": 1
                                    }
                                ]
                            }
                        ]
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news/category/{category_id}</code>
                <p>Belirli bir kategorideki haberleri listeler.</p>
                
                <h4>URL Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>category_id</td>
                        <td>integer</td>
                        <td>Kategori ID'si</td>
                    </tr>
                </table>
                
                <h4>Sorgu Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Varsayılan</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>page</td>
                        <td>integer</td>
                        <td>1</td>
                        <td>Sayfa numarası</td>
                    </tr>
                    <tr>
                        <td>per_page</td>
                        <td>integer</td>
                        <td>10</td>
                        <td>Sayfa başına haber sayısı</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": [
                            {
                                "id": 5,
                                "title": "Ekonomi Haberi",
                                "slug": "ekonomi-haberi",
                                "summary": "Ekonomi haberi özeti...",
                                "image": "https://example.com/uploads/media/5",
                                "published_at": "2023-06-05 14:30:00",
                                "category": {
                                    "id": 2,
                                    "name": "Ekonomi",
                                    "slug": "ekonomi"
                                }
                            }
                        ],
                        "pagination": {
                            "total": 50,
                            "count": 10,
                            "per_page": 10,
                            "current_page": 1,
                            "total_pages": 5,
                            "links": {
                                "first": "http://example.com/api/news/category/2?page=1",
                                "last": "http://example.com/api/news/category/2?page=5",
                                "prev": null,
                                "next": "http://example.com/api/news/category/2?page=2"
                            }
                        }
                    }
                </div>
            </div>
            
            <div class="endpoint">
                <span class="method get">GET</span>
                <code>/api/news/search</code>
                <p>Haberlerde arama yapar.</p>
                
                <h4>Sorgu Parametreleri</h4>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>Tür</th>
                        <th>Zorunlu</th>
                        <th>Açıklama</th>
                    </tr>
                    <tr>
                        <td>query</td>
                        <td>string</td>
                        <td>Evet</td>
                        <td>Arama sorgusu</td>
                    </tr>
                    <tr>
                        <td>page</td>
                        <td>integer</td>
                        <td>Hayır</td>
                        <td>Sayfa numarası (varsayılan: 1)</td>
                    </tr>
                    <tr>
                        <td>per_page</td>
                        <td>integer</td>
                        <td>Hayır</td>
                        <td>Sayfa başına haber sayısı (varsayılan: 10)</td>
                    </tr>
                </table>
                
                <h4>Yanıt Örneği</h4>
                <div class="code">
                    {
                        "data": [
                            {
                                "id": 7,
                                "title": "Arama sonucu bulunan haber",
                                "slug": "arama-sonucu-bulunan-haber",
                                "summary": "Haber özeti...",
                                "image": "https://example.com/uploads/media/7",
                                "published_at": "2023-06-07 11:15:00",
                                "category": {
                                    "id": 3,
                                    "name": "Teknoloji",
                                    "slug": "teknoloji"
                                }
                            }
                        ],
                        "pagination": {
                            "total": 3,
                            "count": 3,
                            "per_page": 10,
                            "current_page": 1,
                            "total_pages": 1,
                            "links": {
                                "first": "http://example.com/api/news/search?query=arama&page=1",
                                "last": "http://example.com/api/news/search?query=arama&page=1",
                                "prev": null,
                                "next": null
                            }
                        }
                    }
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2>Örnek Kullanım</h2>
            
            <h3>cURL Örneği</h3>
            <div class="code">
                curl -X GET "http://example.com/api/news" \
                -H "X-API-KEY: your_api_key_here"
            </div>
            
            <h3>JavaScript (Fetch) Örneği</h3>
            <div class="code">
                fetch('http://example.com/api/news', {
                    headers: {
                        'X-API-KEY': 'your_api_key_here'
                    }
                })
                .then(response => response.json())
                .then(data => console.log(data))
                .catch(error => console.error('Error:', error));
            </div>
            
            <h3>PHP Örneği</h3>
            <div class="code">
                $ch = curl_init();
                curl_setopt($ch, CURLOPT_URL, "http://example.com/api/news");
                curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
                curl_setopt($ch, CURLOPT_HTTPHEADER, [
                    "X-API-KEY: your_api_key_here"
                ]);
                
                $response = curl_exec($ch);
                curl_close($ch);
                
                $data = json_decode($response, true);
                print_r($data);
            </div>
        </section>
    </div>
</body>
</html> 